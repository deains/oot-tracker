define(["json!data/settings.json"],function(t){function i(i){this.app=i,this.data=t,this.settings=this.app.getStore().getSettings()||{}}return i.prototype.get=function(t){if(!(t in this.data))throw"Unrecognised setting name: "+t;return t in this.settings?this.settings[t]:this.data[t].default},i.prototype.set=function(t,i){if(!(t in this.data))throw"Unrecognised setting name: "+t;if(i!==this.get(t)){this.settings[t]=i;for(var s in this.data[t].change)this.app.getEvents().trigger(this.data[t].change[s]);this.app.getStore().setSettings(this.settings)}},i.prototype.all=function(){var t=[];for(var i in this.data)this.data.hasOwnProperty(i)&&t.push({name:i,value:this.get(i),title:this.data[i].title,showInMenu:this.data[i].showInMenu});return t},i});