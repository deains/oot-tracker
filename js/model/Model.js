define([],function(){function t(t){this.store=t,this.getStore().loadTo(this)}return t.prototype.getID=function(){throw"Method not implemented"},t.prototype.getElement=function(){return this.element||(this.element=this.generateElement()),this.element},t.prototype.addState=function(t){this.assertValidState(t),this.getElement().classList.add(t),this.update()},t.prototype.getState=function(){return this.getValidStates().filter(this.hasState,this)},t.prototype.hasState=function(t){return this.assertValidState(t),this.getElement().classList.contains(t)},t.prototype.loadState=function(t){t.forEach(function(t){try{this.assertValidState(t),this.getElement().classList.add(t)}catch(t){}},this)},t.prototype.removeState=function(t){this.assertValidState(t),this.getElement().classList.remove(t),this.update()},t.prototype.toggleState=function(t){this.hasState(t)?this.removeState(t):this.addState(t)},t.prototype.reset=function(){this.getValidStates().forEach(function(t){this.getElement().classList.remove(t)},this)},t.prototype.generateElement=function(){throw"Method not implemented"},t.prototype.getValidStates=function(){return[]},t.prototype.update=function(){this.getStore().saveFrom(this)},t.prototype.hash=function(t){for(var e=5381,o=t.length;o;)e=33*e^t.charCodeAt(--o);return e>>>0},t.prototype.assertValidState=function(t){if(-1===this.getValidStates().indexOf(t))throw"Incompatible state name: "+t},t.prototype.getStore=function(){return this.store},t});